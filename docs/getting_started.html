<!DOCTYPE html>
<html lang="en">
<head>
	<title>Getting Started - Retry System UberASM</title>
	<meta name="author" content="KevinM, AmperSam">
	<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
	<link rel="icon" href="./img/icon.png" type="image/x-icon">
	<link rel="stylesheet" type="text/css" href="./style.css">
</head>
<style>
	#hierarchy {
		margin: 1em 0;
		font-family: monospace;
		font-size: 1.09em;
	}
	.folder, .file {
		display: block;
		padding: 0 0 0 2em;
	}
	.file {
		display: inline;
	}
</style>
<body>
<div class="box">
	<h1>Getting Started</h1>
	<p>This section will help install the Retry System for your project.</p>

	<h3>Contents</h3>
	<ul>
		<li><a href="#uberasm_tool">Download UberASM Tool</a></li>
		<li><a href="#copy_files">Copy Files to Project</a></li>
		<li><a href="#insert_files">Insert Files with UberASMTool</a></li>
		<li><a href="#further_steps">Further Steps</a></li>
	</ul>
	<br/>

	<h3 id="uberasm_tool">Download UberASM Tool</h3>
	<p>The first step is to download <a href="https://smwc.me/s/36986">UberASM Tool</a>, which is the tool used to insert Retry and many other resources. Note that you need to use UberASM Tool version 2.1 or higher to insert Retry (and the <u class="dir">asar.dll</u> in it must be 1.90 or higher, which is what is included in the tool by default).</p>
	<br/>

	<h3 id="copy_files">Copy Retry Files into Project</h3>
	<p>Now that you have UberASM Tool, you'll need to copy the Retry files into it.</p>
	<p>Inside the main folder you can find the <u class="dir">retry_install.bat</u> file, which will do all the copying for you. Just double click it, and then drag and drop your UberASM Tool folder inside the terminal window that pops up. After that, the script will copy all the files in your folder, and you should see a success message. Additionally, if Retry was already present in your UberASM Tool folder, the script will backup up its files in a separate <u class="dir">retry_old_backup</u> folder, in case you need to port your settings from the previous version (feel free to delete this folder afterwards).</p>
	<p>If you instead want to do it manually, follow these steps:</p>
	<ul>
		<li>Copy the <u class="dir">retry.asm</u> file from the <u class="dir">src/library</u> folder into UberASM Tool's <u class="dir">library</u> folder.</li>
		<li>Copy the <u class="dir">retry_gm.asm</u> file from the <u class="dir">src/gamemode</u> folder into UberASM Tool's <u class="dir">gamemode</u> folder.</li>
		<li>Copy the <u class="dir">src/retry_config</u> into UberASM Tool's top folder.</li>
	</ul>
	<p>After running the script or copying the files manually, your UberASM Tool folder structure should look like this:
		<div id="hierarchy">
			<div class="folder">UberASM Tool Folder
			<span class="folder">├─&nbsp;asm</span>
			<span class="folder">├─&nbsp;gamemode</span>
			<span class="folder">│<span class="file">└─&nbsp;<b>retry_gm.asm</b></span></span>
			<span class="folder">├─&nbsp;level</span>
			<span class="folder">├─&nbsp;library</span>
			<span class="folder">│<span class="file">└─&nbsp;<b>retry.asm</b></span></span>
			<span class="folder">├─&nbsp;other</span>
			<span class="folder">├─&nbsp;overworld</span>
			<span class="folder">├─&nbsp;<b>retry_config</b></span>
			<span class="folder">├─&nbsp;retry_old_backup <i>(only present if old Retry backed up by install script)</i></span>
			<span class="folder">├─&nbsp;routines</span>
			<span class="folder">├─&nbsp;...</span>
			</div>
		</div>
	</p>
	<br/>

	<h3 id="insert_files">Insert Files with UberASM Tool</h3>
	<p>Now that the Retry files are in place, you need to tell UberASM Tool to insert them in your rom.</p>
	<ul>
		<li>Copy this line into UberASM Tool's <u class="dir">list.txt</u> file, under <code>gamemode:</code>:
<pre>
	* retry_gm.asm
</pre>
		<b>Note</b>: if you already have something for <code>*</code> under <code>gamemode:</code>, just add it with a comma like this:
<pre>
	* your_stuff.asm,retry_gm.asm
</pre>
		</li>
		<li>Make sure you have edited at least one level in Lunar Magic.</li>
		<li>Run UberASM Tool.</li>
	</ul>
	<br/>

	<h3 id="further_steps">Further Steps</h3>
	<p>Now Retry is inserted in your rom, so if you start a new game and die in a level, you should see the Retry prompt pop up (since it is the default configuration). To customize it, you need to edit the configuration files in the <u class="dir">retry_config</u> folder. When you make changes, you can just run UberASM Tool again to see them applied in the game.</p>
	<p>For more information about the customization options, check out the <a href="./index.html#config">Configuration</a> section.</p>
    <p>Note that the first time you apply Retry to your hack, you need to start from a fresh save file (don't load a save file or save state that you created before inserting Retry), otherwise the save won't work and it will show an error message in the game.</p>

	<br/><center><a href="./index.html">Return to main page</a></center>
</div>
</body>
</html>
